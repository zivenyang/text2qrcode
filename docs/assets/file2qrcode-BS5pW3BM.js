import{V as Oe,a as Le,b as $e,c as Ge,d as qe,e as ve,f as Ue}from"./VDialog-Bz3ZRyr0.js";import{m as je,g as He,u as Ne,a as fe,h as Qe,i as Ke,j as Xe,k as We,b as Ye,c as ee,d as Ze,e as Je,f as oe,s as el}from"./VTextarea-7yzGsDmO.js";import{p as se,T as W,m as ie,a2 as ll,b as ce,g as ue,A as al,a3 as tl,s as U,e as V,u as me,ag as nl,E as re,h as de,i as l,ah as sl,D as ul,Z as ol,c as _e,d as Ae,B as il,t as le,L as Y,W as pe,ai as Pe,I as we,U as he,Y as cl,V as rl,F as $,ad as Be,aj as ye,C as w,ac as dl,a6 as vl,ak as fl,k as ml,l as ae,w as I,o as j,v as te,n as ke,r as ge,af as pl,x as be}from"./index-QlLddhEq.js";import{x as Fe,y as Te,z as Ce,V as H,n as De,m as hl,j as yl,a as kl,A as gl,b as bl,l as Cl,B as Vl,R as Sl,c as Il,p as zl,q as Rl,d as xl,e as _l,C as Al,D as Pl,o as wl,s as Bl,E as Fl,f as ne,i as Ve,_ as Tl}from"./_plugin-vue_export-helper-Brw5qknx.js";import{a as Se,V as Ie,b as Dl}from"./VDivider-BGu3_uf4.js";function ze(e){const o=Math.abs(e);return Math.sign(e)*(o/((1/.501-2)*(1-o)+1))}function Re(e){let{selectedElement:p,containerSize:o,contentSize:d,isRtl:t,currentScrollOffset:m,isHorizontal:n}=e;const v=n?p.clientWidth:p.clientHeight,u=n?p.offsetLeft:p.offsetTop,y=t&&n?d-u-v:u,k=o+m,g=v+y,R=v*.4;return y<=m?m=Math.max(y-R,0):k<=g&&(m=Math.min(m-(k-g-R),d-o)),m}function El(e){let{selectedElement:p,containerSize:o,contentSize:d,isRtl:t,isHorizontal:m}=e;const n=m?p.clientWidth:p.clientHeight,v=m?p.offsetLeft:p.offsetTop,u=t&&m?d-v-n/2-o/2:v+n/2-o/2;return Math.min(d-o,Math.max(0,u))}const Ml=Symbol.for("vuetify:v-slide-group"),Ee=se({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ml},nextIcon:{type:W,default:"$next"},prevIcon:{type:W,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ie(),...ll(),...ce(),...Fe({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),xe=ue()({name:"VSlideGroup",props:Ee(),emits:{"update:modelValue":e=>!0},setup(e,p){let{slots:o}=p;const{isRtl:d}=al(),{displayClasses:t,mobile:m}=tl(e),n=Te(e,e.symbol),v=U(!1),u=U(0),y=U(0),k=U(0),g=V(()=>e.direction==="horizontal"),{resizeRef:R,contentRect:h}=me(),{resizeRef:i,contentRect:r}=me(),a=V(()=>n.selected.value.length?n.items.value.findIndex(s=>s.id===n.selected.value[0]):-1),b=V(()=>n.selected.value.length?n.items.value.findIndex(s=>s.id===n.selected.value[n.selected.value.length-1]):-1);if(nl){let s=-1;re(()=>[n.selected.value,h.value,r.value,g.value],()=>{cancelAnimationFrame(s),s=requestAnimationFrame(()=>{if(h.value&&r.value){const f=g.value?"width":"height";y.value=h.value[f],k.value=r.value[f],v.value=y.value+1<k.value}if(a.value>=0&&i.value){const f=i.value.children[b.value];a.value===0||!v.value?u.value=0:e.centerActive?u.value=El({selectedElement:f,containerSize:y.value,contentSize:k.value,isRtl:d.value,isHorizontal:g.value}):v.value&&(u.value=Re({selectedElement:f,containerSize:y.value,contentSize:k.value,isRtl:d.value,currentScrollOffset:u.value,isHorizontal:g.value}))}})})}const T=U(!1);let _=0,D=0;function G(s){const f=g.value?"clientX":"clientY";D=(d.value&&g.value?-1:1)*u.value,_=s.touches[0][f],T.value=!0}function N(s){if(!v.value)return;const f=g.value?"clientX":"clientY",x=d.value&&g.value?-1:1;u.value=x*(D+_-s.touches[0][f])}function S(s){const f=k.value-y.value;u.value<0||!v.value?u.value=0:u.value>=f&&(u.value=f),T.value=!1}function B(){R.value&&(R.value[g.value?"scrollLeft":"scrollTop"]=0)}const c=U(!1);function C(s){if(c.value=!0,!(!v.value||!i.value)){for(const f of s.composedPath())for(const x of i.value.children)if(x===f){u.value=Re({selectedElement:x,containerSize:y.value,contentSize:k.value,isRtl:d.value,currentScrollOffset:u.value,isHorizontal:g.value});return}}}function P(s){c.value=!1}function q(s){var f;!c.value&&!(s.relatedTarget&&((f=i.value)!=null&&f.contains(s.relatedTarget)))&&z()}function Z(s){i.value&&(g.value?s.key==="ArrowRight"?z(d.value?"prev":"next"):s.key==="ArrowLeft"&&z(d.value?"next":"prev"):s.key==="ArrowDown"?z("next"):s.key==="ArrowUp"&&z("prev"),s.key==="Home"?z("first"):s.key==="End"&&z("last"))}function z(s){var f,x,J,X,A;if(i.value)if(!s)(f=sl(i.value)[0])==null||f.focus();else if(s==="next"){const O=(x=i.value.querySelector(":focus"))==null?void 0:x.nextElementSibling;O?O.focus():z("first")}else if(s==="prev"){const O=(J=i.value.querySelector(":focus"))==null?void 0:J.previousElementSibling;O?O.focus():z("last")}else s==="first"?(X=i.value.firstElementChild)==null||X.focus():s==="last"&&((A=i.value.lastElementChild)==null||A.focus())}function E(s){const f=u.value+(s==="prev"?-1:1)*y.value;u.value=ul(f,0,k.value-y.value)}const L=V(()=>{let s=u.value>k.value-y.value?-(k.value-y.value)+ze(k.value-y.value-u.value):-u.value;u.value<=0&&(s=ze(-u.value));const f=d.value&&g.value?-1:1;return{transform:`translate${g.value?"X":"Y"}(${f*s}px)`,transition:T.value?"none":"",willChange:T.value?"transform":""}}),M=V(()=>({next:n.next,prev:n.prev,select:n.select,isSelected:n.isSelected})),F=V(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!m.value;case!0:return v.value||Math.abs(u.value)>0;case"mobile":return m.value||v.value||Math.abs(u.value)>0;default:return!m.value&&(v.value||Math.abs(u.value)>0)}}),Q=V(()=>Math.abs(u.value)>0),K=V(()=>k.value>Math.abs(u.value)+y.value);return de(()=>l(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!g.value,"v-slide-group--has-affixes":F.value,"v-slide-group--is-overflowing":v.value},t.value,e.class],style:e.style,tabindex:c.value||n.selected.value.length?-1:0,onFocus:q},{default:()=>{var s,f,x;return[F.value&&l("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Q.value}],onClick:()=>Q.value&&E("prev")},[((s=o.prev)==null?void 0:s.call(o,M.value))??l(Ce,null,{default:()=>[l(H,{icon:d.value?e.nextIcon:e.prevIcon},null)]})]),l("div",{key:"container",ref:R,class:"v-slide-group__container",onScroll:B},[l("div",{ref:i,class:"v-slide-group__content",style:L.value,onTouchstartPassive:G,onTouchmovePassive:N,onTouchendPassive:S,onFocusin:C,onFocusout:P,onKeydown:Z},[(f=o.default)==null?void 0:f.call(o,M.value)])]),F.value&&l("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!K.value}],onClick:()=>K.value&&E("next")},[((x=o.next)==null?void 0:x.call(o,M.value))??l(Ce,null,{default:()=>[l(H,{icon:d.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:n.selected,scrollTo:E,scrollOffset:u,focus:z}}}),Me=Symbol.for("vuetify:v-chip-group"),Ol=se({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:ol},...Ee(),...ie(),...Fe({selectedClass:"v-chip--selected"}),...ce(),..._e(),...De({variant:"tonal"})},"VChipGroup");ue()({name:"VChipGroup",props:Ol(),emits:{"update:modelValue":e=>!0},setup(e,p){let{slots:o}=p;const{themeClasses:d}=Ae(e),{isSelected:t,select:m,next:n,prev:v,selected:u}=Te(e,Me);return il({VChip:{color:le(e,"color"),disabled:le(e,"disabled"),filter:le(e,"filter"),variant:le(e,"variant")}}),de(()=>{const y=xe.filterProps(e);return l(xe,Y(y,{class:["v-chip-group",{"v-chip-group--column":e.column},d.value,e.class],style:e.style}),{default:()=>{var k;return[(k=o.default)==null?void 0:k.call(o,{isSelected:t,select:m,next:n,prev:v,selected:u.value})]}})}),{}}});const Ll=se({activeClass:String,appendAvatar:String,appendIcon:W,closable:Boolean,closeIcon:{type:W,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:W,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:pe(),onClickOnce:pe(),...hl(),...ie(),...yl(),...kl(),...gl(),...bl(),...Cl(),...Vl(),...ce({tag:"span"}),..._e(),...De({variant:"tonal"})},"VChip"),$l=ue()({name:"VChip",directives:{Ripple:Sl},props:Ll(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,p){let{attrs:o,emit:d,slots:t}=p;const{t:m}=Pe(),{borderClasses:n}=Il(e),{colorClasses:v,colorStyles:u,variantClasses:y}=zl(e),{densityClasses:k}=Rl(e),{elevationClasses:g}=xl(e),{roundedClasses:R}=_l(e),{sizeClasses:h}=Al(e),{themeClasses:i}=Ae(e),r=we(e,"modelValue"),a=Pl(e,Me,!1),b=wl(e,o),T=V(()=>e.link!==!1&&b.isLink.value),_=V(()=>!e.disabled&&e.link!==!1&&(!!a||e.link||b.isClickable.value)),D=V(()=>({"aria-label":m(e.closeLabel),onClick(S){S.preventDefault(),S.stopPropagation(),r.value=!1,d("click:close",S)}}));function G(S){var B;d("click",S),_.value&&((B=b.navigate)==null||B.call(b,S),a==null||a.toggle())}function N(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),G(S))}return()=>{const S=b.isLink.value?"a":e.tag,B=!!(e.appendIcon||e.appendAvatar),c=!!(B||t.append),C=!!(t.close||e.closable),P=!!(t.filter||e.filter)&&a,q=!!(e.prependIcon||e.prependAvatar),Z=!!(q||t.prepend),z=!a||a.isSelected.value;return r.value&&he(l(S,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":_.value,"v-chip--filter":P,"v-chip--pill":e.pill},i.value,n.value,z?v.value:void 0,k.value,g.value,R.value,h.value,y.value,a==null?void 0:a.selectedClass.value,e.class],style:[z?u.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:b.href.value,tabindex:_.value?0:void 0,onClick:G,onKeydown:_.value&&!T.value&&N},{default:()=>{var E;return[Bl(_.value,"v-chip"),P&&l(Fl,{key:"filter"},{default:()=>[he(l("div",{class:"v-chip__filter"},[t.filter?l(ne,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},t.filter):l(H,{key:"filter-icon",icon:e.filterIcon},null)]),[[rl,a.isSelected.value]])]}),Z&&l("div",{key:"prepend",class:"v-chip__prepend"},[t.prepend?l(ne,{key:"prepend-defaults",disabled:!q,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},t.prepend):l($,null,[e.prependIcon&&l(H,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&l(Se,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),l("div",{class:"v-chip__content","data-no-activator":""},[((E=t.default)==null?void 0:E.call(t,{isSelected:a==null?void 0:a.isSelected.value,selectedClass:a==null?void 0:a.selectedClass.value,select:a==null?void 0:a.select,toggle:a==null?void 0:a.toggle,value:a==null?void 0:a.value.value,disabled:e.disabled}))??e.text]),c&&l("div",{key:"append",class:"v-chip__append"},[t.append?l(ne,{key:"append-defaults",disabled:!B,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},t.append):l($,null,[e.appendIcon&&l(H,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&l(Se,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),C&&l("button",Y({key:"close",class:"v-chip__close",type:"button"},D.value),[t.close?l(ne,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},t.close):l(H,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[cl("ripple"),_.value&&e.ripple,null]])}}}),Gl=se({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...je({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:()=>[],validator:e=>Be(e).every(p=>p!=null&&typeof p=="object")},...He({clearable:!0})},"VFileInput"),ql=ue()({name:"VFileInput",inheritAttrs:!1,props:Gl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,p){let{attrs:o,emit:d,slots:t}=p;const{t:m}=Pe(),n=we(e,"modelValue",e.modelValue,c=>Be(c),c=>e.multiple||Array.isArray(e.modelValue)?c:c[0]),{isFocused:v,focus:u,blur:y}=Ne(e),k=V(()=>typeof e.showSize!="boolean"?e.showSize:void 0),g=V(()=>(n.value??[]).reduce((c,C)=>{let{size:P=0}=C;return c+P},0)),R=V(()=>ye(g.value,k.value)),h=V(()=>(n.value??[]).map(c=>{const{name:C="",size:P=0}=c;return e.showSize?`${C} (${ye(P,k.value)})`:C})),i=V(()=>{var C;const c=((C=n.value)==null?void 0:C.length)??0;return e.showSize?m(e.counterSizeString,c,R.value):m(e.counterString,c)}),r=w(),a=w(),b=w(),T=V(()=>v.value||e.active),_=V(()=>["plain","underlined"].includes(e.variant));function D(){var c;b.value!==document.activeElement&&((c=b.value)==null||c.focus()),v.value||u()}function G(c){var C;(C=b.value)==null||C.click()}function N(c){d("mousedown:control",c)}function S(c){var C;(C=b.value)==null||C.click(),d("click:control",c)}function B(c){c.stopPropagation(),D(),vl(()=>{n.value=[],fl(e["onClick:clear"],c)})}return re(n,c=>{(!Array.isArray(c)||!c.length)&&b.value&&(b.value.value="")}),de(()=>{const c=!!(t.counter||e.counter),C=!!(c||t.details),[P,q]=dl(o),{modelValue:Z,...z}=fe.filterProps(e),E=Qe(e);return l(fe,Y({ref:r,modelValue:n.value,"onUpdate:modelValue":L=>n.value=L,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-input--plain-underlined":_.value},e.class],style:e.style,"onClick:prepend":G},P,z,{centerAffix:!_.value,focused:v.value}),{...t,default:L=>{let{id:M,isDisabled:F,isDirty:Q,isReadonly:K,isValid:s}=L;return l(Ke,Y({ref:a,"prepend-icon":e.prependIcon,onMousedown:N,onClick:S,"onClick:clear":B,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},E,{id:M.value,active:T.value||Q.value,dirty:Q.value,disabled:F.value,focused:v.value,error:s.value===!1}),{...t,default:f=>{var X;let{props:{class:x,...J}}=f;return l($,null,[l("input",Y({ref:b,type:"file",readonly:K.value,disabled:F.value,multiple:e.multiple,name:e.name,onClick:A=>{A.stopPropagation(),K.value&&A.preventDefault(),D()},onChange:A=>{if(!A.target)return;const O=A.target;n.value=[...O.files??[]]},onFocus:D,onBlur:y},J,q),null),l("div",{class:x},[!!((X=n.value)!=null&&X.length)&&(t.selection?t.selection({fileNames:h.value,totalBytes:g.value,totalBytesReadable:R.value}):e.chips?h.value.map(A=>l($l,{key:A,size:"small",color:e.color},{default:()=>[A]})):h.value.join(", "))])])}})},details:C?L=>{var M,F;return l($,null,[(M=t.details)==null?void 0:M.call(t,L),c&&l($,null,[l("span",null,null),l(Xe,{active:!!((F=n.value)!=null&&F.length),value:i.value},t.counter)])])}:void 0})}),We({},r,a,b)}}),Ul=10240,jl=ml({__name:"file2qrcode",setup(e){const p=w(256),o=w(null),d=w(""),t=w([]),m=w([]),n=w(0),v=w(!1),u=()=>{if(o.value){if(o.value.size>Ul){alert("文件大小不能超过 10KB"),o.value=null;return}const h=new FileReader;h.onload=()=>{if(h.result){const r=h.result.toString().match(new RegExp("(?<=base64,).*"));r&&r.length>0?d.value=r[0]:alert("无法解析文件中的 Base64 编码文本")}},h.readAsDataURL(o.value)}},y=async()=>{if(d.value){t.value=[],m.value=[];const h=k(d.value,p.value);for(const i of h){const r=await $e.toDataURL(i);t.value.push(r),m.value.push(i)}}},k=(h,i)=>{const r=[];for(let a=0;a<h.length;a+=i)r.push(h.substring(a,a+i));return r},g=h=>{n.value=h,v.value=!0},R=h=>{el(t.value[h],`QR_Code_${h+1}.png`)};return re(o,()=>{d.value="",t.value=[],m.value=[]}),(h,i)=>(j(),ae(Ye,null,{default:I(()=>[l(oe,null,{default:I(()=>[l(ee,{cols:"12",md:"6"},{default:I(()=>[l(ql,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),label:"选择文件",outlined:"","max-size":10240,"show-size":"",clearable:!1,onChange:u},null,8,["modelValue"]),l(Ze,{modelValue:d.value,"onUpdate:modelValue":i[1]||(i[1]=r=>d.value=r),label:"Base64 编码结果",rows:"7",counter:"",outlined:"",readonly:""},null,8,["modelValue"]),l(Je,{modelValue:p.value,"onUpdate:modelValue":i[2]||(i[2]=r=>p.value=r),modelModifiers:{number:!0},label:"分段大小",type:"number",min:"1",outlined:"",required:"",rules:[r=>!!r||"请输入分段大小"]},null,8,["modelValue","rules"]),l(Ve,{onClick:y,disabled:!d.value,color:"primary"},{default:I(()=>[te("生成二维码")]),_:1},8,["disabled"])]),_:1}),l(ee,{cols:"12",md:"6"},{default:I(()=>[t.value.length>0?(j(),ae(oe,{key:0},{default:I(()=>[(j(!0),ke($,null,ge(t.value,(r,a)=>(j(),ae(ee,{key:a,cols:"4",onClick:b=>g(a)},{default:I(()=>[l(Ie,{src:r,alt:"QR Code "+(a+1),class:"qr-code-image",contain:"",tile:""},null,8,["src","alt"])]),_:2},1032,["onClick"]))),128))]),_:1})):pl("",!0)]),_:1})]),_:1}),l(Le,{modelValue:v.value,"onUpdate:modelValue":i[4]||(i[4]=r=>v.value=r),"max-width":"800"},{default:I(()=>[l(Oe,{modelValue:n.value,"onUpdate:modelValue":i[3]||(i[3]=r=>n.value=r),"hide-delimiters":"",progress:"primary"},{default:I(()=>[(j(!0),ke($,null,ge(t.value,(r,a)=>(j(),ae(Ge,{key:a},{default:I(()=>[l(oe,{justify:"center"},{default:I(()=>[l(ee,{cols:"12",sm:"6",md:"6"},{default:I(()=>[l(Ie,{src:r,alt:"QR Code "+(n.value+1)},null,8,["src","alt"])]),_:2},1024)]),_:2},1024),l(qe,null,{default:I(()=>[l(ve,null,{default:I(()=>[te("第 "+be(a+1)+" 段",1)]),_:2},1024),l(Dl),l(ve,null,{default:I(()=>[te(be(m.value[a]),1)]),_:2},1024),l(Ue,{class:"qr-code-actions"},{default:I(()=>[l(Ve,{color:"primary",onClick:b=>R(a)},{default:I(()=>[te("下载二维码")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}))}}),Wl=Tl(jl,[["__scopeId","data-v-ccde73cf"]]);export{Wl as default};
